<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Opinionated Backend and Reusability Focused Considerations for Shiny • matte</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Opinionated Backend and Reusability Focused Considerations for Shiny">
<meta name="description" content="Purposefully simple helper functions, tools, and a framework for creating reusable applications fit for production in clinical systems.">
<meta property="og:description" content="Purposefully simple helper functions, tools, and a framework for creating reusable applications fit for production in clinical systems.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">matte</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="id_-matte----an-enterprise-shiny-manifesto">{ matte } - an Enterprise Shiny Manifesto<a class="anchor" aria-label="anchor" href="#id_-matte----an-enterprise-shiny-manifesto"></a>
</h1></div>
<p>And the not so glamorous back-end considerations for Shiny</p>
<div class="section level2">
<h2 id="the-parent-child-app-relationship">The Parent-Child App Relationship<a class="anchor" aria-label="anchor" href="#the-parent-child-app-relationship"></a>
</h2>
<p>A common paradigm we’ve come across is the desire to create a Shiny app but have it used across different datasets with different scoped access to those datasets. It’s also common for the data to need some transformation prior to being used in the application. For these reasons we propose an opinionated paradigm of creating a package of Shiny modules, then using that package in child repositories, each with their own data.</p>
<p>Creating child repositories for each application instance solves the problem of changing and editing code in a single place, then persisting those changes to multiple endpoints, while still allowing for customization at the child application level. This is important in industries such as pharma because we can go through validation cycles and use certain versions of the parent package for some clinical studies, and experimental versions for others. It also allows for bug fixes in a central location, rather than forking a Shiny app and needing to make changes in multiple places.</p>
</div>
<div class="section level2">
<h2 id="a-consistent-data-structure">A Consistent Data Structure<a class="anchor" aria-label="anchor" href="#a-consistent-data-structure"></a>
</h2>
<p>The child repository has an <code>app.R</code> file at the root level, and ui and server function that call modules from the parent. This doesn’t limit child applications to the parent structure, but the modules from the parent should assume as certain data structure to be used within the child applications. We propose creating a single object and storing it as <code>data.rds</code>. In the <code>{matte}</code> paradigm we create a <code>jobs</code> folder with a <code>data_prep.Rmd</code> - this takes the raw data needed for the application and manipulates it to be the generic structure needed for all apps. But what if your data is different between child repositories, you ask? We also include a <code>meta.yaml</code> file, a list of key value pairs for mapping columns to the application.</p>
</div>
<div class="section level2">
<h2 id="an-example">An Example<a class="anchor" aria-label="anchor" href="#an-example"></a>
</h2>
<p>This can all seem very abstract, in <code>inst/examples</code> we’ve included an example of this paradigm:</p>
<p><code>parentpkg</code> is a package with <code>mod-chart</code> and <code>mod-table</code> <code>child1</code> is a shiny application that uses <code>parentpkg</code>’s modules as well as themeing with a data preperation file from <code>mtcars</code> <code>child2</code> is a shiny application that uses <code>iris</code></p>
<p><code>child1</code> and <code>child2</code> look and feel like they come from the same ecosystem with the same branding, but this structure allows for further customization like including a third module custom to <code>child2</code> that may not be in <code>child1</code>.</p>
</div>
<div class="section level2">
<h2 id="can-i-use-this-with-other-shiny-frameworks">Can I use this with other Shiny frameworks?<a class="anchor" aria-label="anchor" href="#can-i-use-this-with-other-shiny-frameworks"></a>
</h2>
<p>Because the <code>jobs</code> endpoint is secondary to the application itself, you can use the <code>{matte}</code> paradigm with children applications that are Rhino, Golem, or native Shiny! The only limitation is that the parent application must be a package so that you can call it within the children.</p>
</div>
<div class="section level2">
<h2 id="installation-and-use">Installation and Use<a class="anchor" aria-label="anchor" href="#installation-and-use"></a>
</h2>
<p>You can install the development version of matte from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"atorus-research/matte"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing matte</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Maya Gans <br><small class="roles"> Author, maintainer </small>  </li>
<li>Laura Maxwell <br><small class="roles"> Author </small>  </li>
<li>Jiwan Heo <br><small class="roles"> Author </small>  </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Maya Gans, Laura Maxwell, Jiwan Heo.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
